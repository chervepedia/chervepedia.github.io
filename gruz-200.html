---
layout: default
pagination:
  enabled: true
---

---
layout: default
pagination:
  enabled: true
---

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Встраиваемые посты из Telegram</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | absolute_url }}">
    <script async src="https://telegram.org/js/telegram-widget.js?19" data-telegram-post="telegram" data-width="100%"></script>
</head>
<body>
    <div class="container">
        <div class="content">
            <!-- Включение контента из telegramfeed.html -->
            {% include telegramfeed.html %}
        </div>
    </div>
    <div class="back-to-top">
        <i class="fas fa-chevron-up"></i>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const postsContainer = document.querySelector('.content');
            
            // Проверка наличия контейнера
            if (postsContainer) {
                const links = postsContainer.querySelectorAll('a');
                
                links.forEach(link => {
                    const postContainer = document.createElement('div');
                    postContainer.classList.add('post');
                    postContainer.innerHTML = `
                        <div class="post-header">
                            <h2 class="post-title">Пост из Telegram</h2>
                        </div>
                        <div class="post-content">
                            <div class="embed-wrapper">
                                <blockquote class="telegram-post" data-width="100%" data-dnt="true">
                                    <a href="${link.href}">Смотреть пост в Telegram</a>
                                </blockquote>
                            </div>
                        </div>
                        <div class="post-footer">
                            <div class="post-date">${new Date().toLocaleDateString()}</div>
                            <a href="${link.href}" class="read-more">Прокомментировать</a>
                        </div>`;
                    postsContainer.appendChild(postContainer);
                });

                // Инициализация Telegram виджетов
                if (window.Telegram) {
                    window.Telegram.WebApp.expand();
                }
            } else {
                console.error('Не найден контейнер для постов');
            }
        });
    </script>
</body>
</html>